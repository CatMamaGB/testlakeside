<div class="header-wrapper">
  {%- if section.settings.enable_sticky_header -%}
    <sticky-header class="header-sticky">
  {%- endif -%}

  <header class="header">
    <!-- Logo -->
    <div class="header__logo">
      {%- if section.settings.logo != blank -%}
        <a href="/">
          <img src="{{ section.settings.logo | img_url: 'master' }}" alt="{{ shop.name }}">
        </a>
      {%- else -%}
        <a href="/" class="header__heading-link">{{ shop.name }}</a>
      {%- endif -%}
    </div>

    <!-- Navigation -->
    <nav class="header__nav">
      <ul class="header__menu">
        <li><a href="/pages/about">About</a></li>
        
        <li class="has-dropdown">
          <button class="dropdown-toggle">Products</button>
          {% render 'header-dropdown-menu', menu: section.settings.products_menu %}
        </li>

        <li class="has-dropdown">
          <button class="dropdown-toggle">Consultations</button>
          {% render 'header-dropdown-menu', menu: section.settings.consultations_menu %}
        </li>

        <li class="has-dropdown">
          <button class="dropdown-toggle">Resources</button>
          {% render 'header-dropdown-menu', menu: section.settings.resources_menu %}
        </li>
      </ul>
    </nav>

    <!-- Icons -->
    <div class="header__icons">
      <button class="header__icon header__icon--search">
        {% render 'icon-search' %}
      </button>
      <a href="{{ routes.account_url }}" class="header__icon">
        {% render 'icon-account' %}
      </a>
      <a href="{{ routes.cart_url }}" class="header__icon">
        {% render 'icon-cart' %}
      </a>
    </div>

    <!-- Action Buttons -->
    <div class="header__actions">
      <a href="{{ section.settings.youtube_url }}" class="button button--youtube">YOUTUBE CHANNEL</a>
      <a href="{{ routes.all_products_collection_url }}" class="button button--shop">SHOP NOW</a>
    </div>
  </header>

  {%- if section.settings.enable_sticky_header -%}
    </sticky-header>
  {%- endif -%}
</div>

{% style %}
.header-wrapper {
  padding: 1rem 2rem;
  background: white;
}

.header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  max-width: var(--page-width);
  margin: 0 auto;
}

.header__menu {
  display: flex;
  gap: 2rem;
  list-style: none;
}

.header__icons {
  display: flex;
  gap: 1rem;
}

.header__actions {
  display: flex;
  gap: 1rem;
}

.button--youtube {
  background: #4CAF50;
  color: white;
}

.button--shop {
  background: #2196F3;
  color: white;
}

.has-dropdown {
  position: relative;
}

.dropdown-toggle {
  background: none;
  border: none;
  cursor: pointer;
}
{% endstyle %}

{% schema %}
{
  "name": "Header",
  "settings": [
    {
      "type": "image_picker",
      "id": "logo",
      "label": "Logo"
    },
    {
      "type": "link_list",
      "id": "products_menu",
      "label": "Products Menu"
    },
    {
      "type": "link_list",
      "id": "consultations_menu",
      "label": "Consultations Menu"
    },
    {
      "type": "link_list",
      "id": "resources_menu",
      "label": "Resources Menu"
    },
    {
      "type": "url",
      "id": "youtube_url",
      "label": "YouTube Channel URL"
    },
    {
      "type": "checkbox",
      "id": "enable_sticky_header",
      "label": "Enable sticky header",
      "default": true
    }
  ]
}
{% endschema %}
